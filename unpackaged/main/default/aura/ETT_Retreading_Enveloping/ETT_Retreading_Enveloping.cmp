<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome" access="global" controller="ETT_JobCardListController">
    
    
    <aura:attribute name="recordId" type="String"/>
    <aura:attribute name="workStationSchedule" type="ETT_Work_Schedule__c"/>
    <aura:attribute name="skillSets" type="ETT_Skill_Set__c[]"/>
    <aura:attribute name="stationWrapperTools" type="ETT_JobCardListController.ToolsAndUsageWrapper[]"/> 
    <aura:attribute name="toolsListOptions" type="List"/>
    <aura:attribute name="toolUsageListOptions" type="List"/>
    <aura:attribute name="tyreMaster" type="ETT_Tyre_Master__c" />
    <aura:attribute name="treadMasterList" type="ETT_Tools_Allocation__c[]" />
    <aura:attribute name="treadMasterListValues" type="Map" />
    <aura:attribute name="usageSection" type="boolean"/> 
    <aura:attribute name="seq_17_initialState" type="String"/>    
    <aura:attribute name="openToolsReqSection" type="boolean" default="false"/> 
    <aura:attribute name="recordTypeIdOfStageName" type="Id"/>
    <aura:attribute name="toolsCheckFinal" type="Boolean" default="false"/>
    <aura:attribute name="showJobModelView" type="Boolean" default="false"/>
    <aura:attribute name="recordsFound" type="Boolean" default="false"/>    
    <aura:attribute name="isOnLoad" type="Boolean" default="true"/>    
    <aura:attribute name="fileToBeUploaded" type="Object[]"/>
    <aura:attribute name="jobCardSetup" type="ETT_Job_Card_Setup__mdt"/>
    
    <aura:attribute name="step_error" type="String"/>
    <aura:attribute name="lubeName" type="String"/>    
    <aura:attribute name="Envelop_Serial_Number" type="String"/>        
    
    <aura:attribute name="current_line" type="ETT_JobCardListController.JobLineItemWrapper"/>
    <aura:attribute name="current_sequence" type="Integer" default="0"/> 
    
    <aura:attribute name="Nextlineitem" type="ETT_Job_Card_Line_Item__c"/>
    <aura:attribute name="nextWorkTracker" type="ETT_Work_Activity__c"/>
    <aura:attribute name="allowDML" type="Boolean" default="true"/>
    
    <aura:attribute name="goodNotGoodValues" type="Map"/>  
    <aura:attribute name="rimSureLockValues" type="Map"/>      
    <aura:attribute name="NotGoodAndGoodValues" type="Map"/>
    <aura:attribute name="defectYesNoValues" type="Map"/>        
    <aura:attribute name="RustNotRemoveValues" type="Map"/>    
    <aura:attribute name="SkivedConditionValues" type="Map"/>    
    <aura:attribute name="highLowValues" type="Map"/>  
    <aura:attribute name="lowHighValues" type="Map"/>    
    <aura:attribute name="yesNoValues" type="Map"/>  
    <aura:attribute name="noYesValues" type="Map"/>    
    <aura:attribute name="matchedNotValues" type="Map"/>  
    <aura:attribute name="notMatchedValues" type="Map"/>    
    <aura:attribute name="chamberOneTwoValues" type="Map"/>        
    <aura:attribute name="pressureValues" type="Map"/> 
    
    <aura:attribute name="vaccumeValues" type="Map"/>            
    <aura:attribute name="beamValues" type="Map"/>            
    <aura:attribute name="reasonValues" type="Map"/>                
    <aura:attribute name="lubeValues" type="Map"/>                    
    
    
    <aura:attribute name="isRimOrSureLock" type="String" />
    <aura:attribute name="RimOrSureLock" type="String" />    
    <aura:attribute name="options" type="List" />
    <aura:attribute name="value" type="List" default=""/>
    <aura:attribute name="WearRequiredPPT" type="boolean" default="false"/> 
    <aura:attribute name="newToolRequests" type="ETT_JobCardListController.toolWrapper[]"/>
    
    <aura:attribute name="tyreCutList" type="List"  default="[]"/>
    <aura:attribute name="tyreCrownInspection" type="ETT_Tyre_Rejection_Line_Item__c"/>
    <aura:attribute name="selectedCutsNTCList" type="List" default="[]" description="Selected Genre Picklist Values"/>    
    <aura:attribute name="selectedCutsNTC" type="List"  default="[]"/>
    <aura:attribute name="statusValues" type="Map"/>
    
    <aura:attribute name="isOnHold" type="boolean" default="false"/>
    <aura:attribute name="lineItemForHold" type="ETT_JobCardListController.JobLineItemWrapper"/>
    <aura:attribute name="holdReasonValues" type="Map"/>
    
    <aura:attribute name="confirmHoldVar" type="boolean"/>
    <aura:attribute name="availableStations" type="List"  default="[]"/>
    <aura:attribute name="selectedNextStation" type="String"/>    
    
    <!-- this will be applicable for stages which requires defect to be logged while working on a specific stage-->
    <aura:attribute name="availableDefects" type="List"  default="[]"/>
    <aura:attribute name="selectedDefects" type="List"  default="[]"/>
    <aura:attribute name="displayDefectSectionCutOff" type="boolean" default="false"/>
    
    <aura:attribute name="LiftConditionCheckbox" type="boolean" default="true" />
    <aura:attribute name="SpreaderMachineCheckbox" type="boolean" default="true" />   
    <aura:attribute name="RubberWickingPad" type="boolean" />
    <aura:attribute name="NylonWickingPad" type="boolean" />    
    <aura:attribute name="applyrim" type="boolean" /> 
    
    <aura:attribute name="ETT_Envelop_CuringEnvelope__c" type="boolean" />    
    <aura:attribute name="ETT_Envelop_CuringTube__c" type="boolean" />    
    <aura:attribute name="ETT_Envelop_RimAndPlate__c" type="boolean" />    
    <aura:attribute name="ETT_Envelop_TyreRimmingMachine__c" type="boolean" />        
    <aura:attribute name="startCheckbox" type="boolean" />     
    
    <aura:attribute name="ApplyInflationPressure" type="boolean" />        
    <aura:attribute name="ApplyDesiredRimPlate" type="boolean" />        
    <aura:attribute name="ApplyCuringTubeFlap" type="boolean" />        
    <aura:attribute name="ApplyPlateLock" type="boolean" />        
    
    <aura:attribute name="ApplyOnCatrige" type="boolean" />        
    <aura:attribute name="ApplyOnMonorail" type="boolean" />        
    
    <aura:attribute name="seq_5_lineId" type="String"/>
    
    <aura:attribute name="verifyCuttingsCheckbox" type="boolean"/>
    
    <aura:attribute name="selectedLookUpRecord" type="sObject" default="{}"/>
    <aura:attribute name="objContact" type="contact" default="{'sobjectType':'contact'}"/>
    
    <!--Janardhan added-->
    <aura:attribute name="workSheduleInfo" type="Object"/>
    
    <!--all handlers-->
    <aura:handler name="init" value="{!this}" action="{!c.initAction}"/>
    <aura:registerEvent name="refreshJobCardList" type="c:ETT_JobCardUpdate" />
    <aura:handler name="ComplaintMasterEvent" event="c:ETT_ComplaintMaster" action="{!c.handleComplaintMasterEvent}"></aura:handler>
    
    
    <aura:if isTrue="{!v.showJobModelView}">
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1">
            <div class="slds-modal__container animated slideInUp" draggable="true">                
                <header class="slds-modal__header">
                    <h3 id="modal-heading-01" class="slds-text-heading_small slds-hyphenate">JOB CARD: {!v.current_line.relatedJobWrapper.validJobCardList[0].Name} <b>({!v.current_line.relatedJobWrapper.validJobCardList[0].ETT_Stages__c})</b></h3>
                    <lightning:buttonIcon iconName="utility:close"
                                          onclick="{! c.closeModal }"
                                          alternativeText="close"
                                          variant="bare-inverse"
                                          class="slds-modal__close"/>
                </header>
                
                
                
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <div style="overflow:auto;">
                        <aura:if isTrue="{!!empty(v.current_line.relatedJobWrapper.validJobCardList)}"> 
                            
                            <!--step-1-->
                            <aura:if isTrue="{!and(v.current_sequence eq 1,v.current_line.jobLineItem.Sequence__c eq 1)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Precautions, Work Station, Technician Skills &amp; Tools/Consumables  Check'}">
                                            <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                            <a target="_blank" class="requiredskillsetlink" href="{!$Resource.ETT_Skiving_Required_Skill_Set}" title="Required Skill Set">Required Skill Set</a>
                                            <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                <div class="slds-col slds-size_12-of-12" style="color:red">
                                                    <b>Error:&nbsp;</b>{!v.step_error}
                                                </div>
                                            </aura:if>
                                            <div class="slds-grid slds-wrap check_section">
                                                <p class="Station">  <b>Station Code:&nbsp;</b>{!v.workStationSchedule.ETT_Work_Station__r.ETT_Station_Code__c}</p>
                                                <div class="slds-col"> 
                                                    <div class="slds-form-element ">
                                                        <div class="slds-form-element__control">
                                                            <div class="slds-checkbox">
                                                                <abbr class="slds-required" title="required">*</abbr>
                                                                <input type="checkbox" name="options" id="WearRequiredPPT" value="WearRequiredPPT" aria-describedby="error_01" onclick="{!c.onPreRequisiteCheck}"/>
                                                                
                                                                <label class="slds-checkbox__label" for="WearRequiredPPT">
                                                                    <span class="slds-checkbox_faux"></span>
                                                                    <span class="slds-form-element__label">Wear Required PPT</span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="slds-form-element__help slds-hide" id="error_01">This field is required</div>
                                                    </div>
                                                    <img src="{!$Resource.Technician_Skill}" width="600" style="padding-left: 5%;"/>
                                                </div>
                                                <div class="slds-col">
                                                    <div class="slds-grid slds-grid_vertical" >
                                                        <div class="nextcheck">
                                                            <aura:iteration items="{!v.options}" var="sf" indexVar="i">
                                                                <div class="slds-form-element Secondsec">
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-checkbox">
                                                                            <abbr class="slds-required" title="required">*</abbr>
                                                                            <input value="{!i}" type="checkbox" name="options" id="{!sf.label}"  aria-describedby="error_01" onclick="{!c.onPreRequisiteCheck}"/>
                                                                            
                                                                            <label class="slds-checkbox__label" for="{!sf.label}">
                                                                                <span class="slds-checkbox_faux"></span>
                                                                                <span class="slds-form-element__label">{!sf.label}</span>
                                                                            </label>
                                                                        </div>
                                                                    </div>
                                                                    <ol type="a">
                                                                        <aura:iteration items="{!sf.subitem}" var="item">
                                                                            <li>{!item.label}</li><br/>
                                                                        </aura:iteration>
                                                                    </ol>
                                                                    <div class="slds-form-element__help slds-hide" id="error_01">This field is required</div>
                                                                </div>
                                                            </aura:iteration>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if> 
                            
                            <!--aura:if isTrue="{!and(v.current_sequence eq 2,v.current_line.jobLineItem.Sequence__c eq 2)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Check Floor Conditions'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Initial Floor Condition</label>
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <aura:iteration items="{!v.goodNotGoodValues}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>
                                                </div>
                                                <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Final Floor Condition</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="FloorCheck" label="Final Floor Conditions" variant="label-hidden">
                                                                <aura:iteration items="{!v.NotGoodAndGoodValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div>
                                                </aura:if>
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if--> 
                            
                            <!--aura:if isTrue="{!and(v.current_sequence eq 3,v.current_line.jobLineItem.Sequence__c eq 3)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Check Light Conditions'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Initial Light Condition</label>
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" label="Initial Light Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <aura:iteration items="{!v.goodNotGoodValues}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>
                                                </div>
                                                <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Final Light Condition</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="LightCheck" label="Final Light Conditions" variant="label-hidden">
                                                                <aura:iteration items="{!v.NotGoodAndGoodValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div>
                                                </aura:if>
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if--> 
                            
                            <!--aura:if isTrue="{!and(v.current_sequence eq 4,v.current_line.jobLineItem.Sequence__c eq 4)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Select Enveloping System'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                
                                                <div class="slds-form-element tool_Secondsec">
                                                    <ul type="a">
                                                        <lightning:input type="checkbox" checked="{!v.LiftConditionCheckbox}" label="1. Check Envelop lift condition."/>
                                                        <lightning:input type="checkbox" checked="{!v.SpreaderMachineCheckbox}" label="2. Check Envelop spreader machine."/>
                                                    </ul>
                                                </div>
                                                
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if--> 
                            
                            <!--aura:if isTrue="{!and(v.current_sequence eq 5,v.current_line.jobLineItem.Sequence__c eq 5)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Select Rim Type'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                
                                                <div class="slds-form-element textboxdiv">
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.Rim_Sure_Lock_Values__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden" onchange="{!c.changeRimSureLockValue}" disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <aura:iteration items="{!v.rimSureLockValues}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>
                                                </div><br/>
                                                
                                                
                                                
                                                <aura:if isTrue="{!v.RimOrSureLock=='Rim'}">
                                                    <div class="slds-form-element tool_Secondsec">
                                                        <ul type="a">
                                                            <lightning:input type="checkbox" checked="{!v.ETT_Envelop_TyreRimmingMachine__c}" label="1. Check Tyre rimming machine."/>
                                                            <lightning:input type="checkbox" checked="{!v.ETT_Envelop_CuringEnvelope__c}" label="2. Check Curing envelope."/>
                                                            <lightning:input type="checkbox" checked="{!v.ETT_Envelop_CuringTube__c}" label="3. Check Curing tube."/>
                                                            <lightning:input type="checkbox" checked="{!v.ETT_Envelop_RimAndPlate__c}" label="4. Check Rim and plate."/>
                                                        </ul>
                                                    </div>
                                                    <aura:set attribute="else">                                           
                                                        <div class="slds-form-element tool_Secondsec">
                                                         
                                                        </div>
                                                    </aura:set>
                                                </aura:if>
                                                
                                                
                                                
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if--> 
                            
                            <aura:if isTrue="{!and(v.current_sequence eq 2,v.current_line.jobLineItem.Sequence__c eq 2)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Select Enveloping Process/Check Build Tyre Condition'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                <div class="slds-form-element textboxdiv">
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.Rim_Sure_Lock_Values__c}" name="rimlock" label="" variant="label-hidden" onchange="{!c.changeRimSureLockValue}" disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <aura:iteration items="{!v.rimSureLockValues}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>
                                                </div>
                                                
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is Build Tyre Condition Good ?</label>
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <aura:iteration items="{!v.yesNoValues}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>
                                                </div><br/>
                                                
                                                
                                                <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='No'}">
                                                    <div class="slds-form-element textboxdiv">
                                                        
                                                        <p style="color:red">
                                                            <b>Note: </b>Please raise defect against "Repair" stage.
                                                        </p>
                                                        <!--label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the reason from the picklist</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div-->
                                                    </div><br/>
                                                    
                                                    <aura:set attribute="else">                                           
                                                        <div class="slds-form-element tool_Secondsec">
                                                            <b>Select The Wicking Pad Type</b>
                                                            <ul type="a">
                                                                <lightning:input type="checkbox" checked="{!v.RubberWickingPad}" label="Rubber Wicking Pad"/>
                                                                <lightning:input type="checkbox" checked="{!v.NylonWickingPad}" label="Nylon Wicking Pad"/>                                                                
                                                            </ul>
                                                        </div>
                                                    </aura:set>
                                                </aura:if>
                                                
                                                
                                                
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if> 
                            
                            <aura:if isTrue="{!and(v.current_sequence eq 3,v.current_line.jobLineItem.Sequence__c eq 3)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Check Wicking Pad Applied On Tyre'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is wicking pad applied on tyre ?</label>
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>
                                                </div><br/>
                                                <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No'}">
                                                    <p style="color:red">
                                                        <b>Note: </b>Please clcik on "Request New Tool/Material".
                                                    </p>
                                                </aura:if>         
                                                
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if> 
                            
                            <aura:if isTrue="{!and(v.current_sequence eq 4,v.current_line.jobLineItem.Sequence__c eq 4)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Select Envelop Lube Type'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Envelop Lube Type</label>
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <aura:iteration items="{!v.lubeValues}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>
                                                </div><br/>
                                                
                                                <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c == 'Others'}">
                                                    <lightning:input label="Enter Other Type Name" value="{!v.current_line.jobLineItem.ETT_LubeName__c}" required = "true"/>
                                                </aura:if>
                                                
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if> 
                            
                            <!--  <aura:if isTrue="{!and(v.current_sequence eq 9,v.current_line.jobLineItem.Sequence__c eq 9)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Check Envelope Lube Applied'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                 <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is Envelope Lube Applied?</label>
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>
                                                </div><br/>                                                
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if> -->
                            
                            <aura:if isTrue="{!and(v.current_sequence eq 5,v.current_line.jobLineItem.Sequence__c eq 5)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Is envelope applied on tyre'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is envelope applied on tyre?</label>
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>
                                                </div><br/>
                                                <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Final Envelope Applied On Tyre?</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="LightCheck" label="" variant="label-hidden">
                                                                <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div>
                                                </aura:if>
                                                
                                                <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c == 'Yes'}"> 
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enter the Envelop Serial Number</label>
                                                        <lightning:input label="Enter the envelop serial number" value="{!v.current_line.jobLineItem.ETT_Envelop_Serial_Number__c}" variant="label-hidden" />
                                                    </div>
                                                    <br/>
                                                    <aura:if isTrue="{!v.RimOrSureLock=='Rim'}">
                                                        <div class="slds-form-element tool_Secondsec">
                                                            
                                                            <ul type="a">
                                                                <lightning:input type="checkbox" checked="{!v.ApplyDesiredRimPlate}" label="1. Apply desired rim and plate on the rimming machine."/>
                                                                <lightning:input type="checkbox" checked="{!v.ApplyCuringTubeFlap}" label="2. Apply curing tube/flap on enveloped tyre rim."/>
                                                                <lightning:input type="checkbox" checked="{!v.ApplyPlateLock}" label="3. Apply plate and lock the rim."/>
                                                            </ul>
                                                        </div>
                                                    </aura:if>
                                                    
                                                </aura:if> 
                                                
                                                
                                                
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if> 
                            
                            <!-- <aura:if isTrue="{!and(v.current_sequence eq 10,v.current_line.jobLineItem.Sequence__c eq 10)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Is Rim Type'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                 <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                <
/aura:if>
                                                 <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is RIM Type</label>
                                                    <div>
                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Rim_Type__c}" name="RimType" label="Rim Type" variant="label-hidden" >
                                                            <aura:iteration items="{!v.isRimOrSureLock}" var="inv" indexVar="key">
                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Rim_Type__c}" />
                                                            </aura:iteration>
                                                        </lightning:select>
                                                    </div>  
                                                     <lightning:input type="text" value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" disabled="false"/> 
                    <lightning:outputField fieldName="ETT_Initial_Activity_State__c" /> 

                                                
                                                </div>
                                                
                                                
                                                <aura:if isTrue="{!v.isRimOrSureLock=='Rim'}">
                                                    <div class="slds-form-element tool_Secondsec">
                                                        <ul type="a">
                                                            <lightning:input type="checkbox" checked="{!v.ApplyDesiredRimPlate}" label="1. Apply desired rim and plate on the rimming machine."/>
                                                            <lightning:input type="checkbox" checked="{!v.ApplyCuringTubeFlap}" label="2. Apply curing tube/flap on enveloped tyre rim."/>
                                                            <lightning:input type="checkbox" checked="{!v.ApplyPlateLock}" label="3. Apply plate and lock the rim."/>
                                                            <lightning:input type="checkbox" checked="{!v.ApplyInflationPressure}" label="4. Apply inflation pressure at 2.5 bar to rimmed tyre."/>
                                                        </ul>
                                                    </div>
                                                </aura:if>
                                                
                                                
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if> 
                            -->
                            
                            <aura:if isTrue="{!v.isRimOrSureLock == 'Rim'}">
                                <aura:if isTrue="{!and(v.current_sequence eq 6,v.current_line.jobLineItem.Sequence__c eq 6)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Check Inflation Pressure'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is inflation pressure ok?</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}">
                                                                <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div><br/>
                                                    
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c == 'No'}">
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the reason from the picklist</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}">
                                                                    <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Enter_Reason1__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c == 'Others'}">
                                                            <lightning:input label="Enter Other Reason" value="{!v.current_line.jobLineItem.ETT_Enter_Reason2__c}" required = "true"/>
                                                        </aura:if>
                                                        <div style="margin-top:10px">
                                                            <lightning:button variant="brand" label="Notify Supervisors and HOO" title="Notify Supervisors" onclick="{!c.notifySupervisandhOO}" disabled="{!v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c}"/>
                                                        </div>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Final Inflaction Condition</label>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="Inflaction" label="Final Inflaction Conditions" variant="label-hidden">
                                                                        <aura:iteration items="{!v.yesNoValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:if>
                                                        
                                                        <aura:if isTrue="{!v.RimOrSureLock == 'Rim'}">
                                                            <!--   <lightning:input type="checkbox" checked="{!v.ApplyDesiredRimPlate}" label=" Apply Rim." onchange="{!c.handlecheckbox1}"/> -->
                                                        </aura:if> 
                                                        <br/>
                                                        <p style="color:red">
                                                            <b>Note: </b>Please raise defect against "Repair" stage.
                                                        </p>
                                                        
                                                    </aura:if>
                                                    <aura:if isTrue="{!v.RimOrSureLock=='Rim'}">
                                                        <div class="slds-form-element tool_Secondsec">
                                                            <ul type="a">
                                                                <lightning:input type="checkbox" checked="{!v.ApplyDesiredRimPlate}" label="1. Apply desired rim and plate on the rimming machine."/>
                                                                <lightning:input type="checkbox" checked="{!v.ApplyCuringTubeFlap}" label="2. Apply curing tube/flap on enveloped tyre rim."/>
                                                                <lightning:input type="checkbox" checked="{!v.ApplyPlateLock}" label="3. Apply plate and lock the rim."/>
                                                                <lightning:input type="checkbox" checked="{!v.ApplyInflationPressure}" label="4. Apply inflation pressure at 2.5 bar to rimmed tyre."/>
                                                            </ul>
                                                        </div>
                                                    </aura:if>
                                                    
                                                    
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 7,v.current_line.jobLineItem.Sequence__c eq 7)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Apply vaccum Pressure at 2.5 on outer envelop of the Tyre.'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is Vaccum ok?</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden" disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}" >
                                                                <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div><br/>
                                                    
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c == 'No'}">
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the reason from the picklist</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}">
                                                                    <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Enter_Reason1__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c == 'Others'}">
                                                            <lightning:input label="Enter Other Reason" value="{!v.current_line.jobLineItem.ETT_Enter_Reason2__c}" required = "true"/>
                                                        </aura:if>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enter Final Status</label>  
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="FloorCheck" label="" variant="label-hidden" >
                                                                        <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:if>
                                                    </aura:if>
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No'}">
                                                        <div style="margin-top:10px">
                                                            <lightning:button variant="brand" label="Notify Supervisors and HOO" title="Notify Supervisors and HOO" onclick="{!c.notifySupervisandhOO}" disabled="{!v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c}"/>
                                                        </div>
                                                        <br/>
                                                        <p style="color:red">
                                                            <b>Note: </b>Please raise defect against "Repair" stage.
                                                        </p>
                                                    </aura:if>
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                                <!--aura:if isTrue="{!and(v.current_sequence eq 8,v.current_line.jobLineItem.Sequence__c eq 8)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Apply vaccum Pressure at 2.5 on outer envelop of the Tyre'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Pressure</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.pressureValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div>
                                                    <  <div style="margin-top:10px">
                                                    <lightning:button variant="brand" label="Notify Supervisors and HOO" title="Notify Supervisors" onclick="{!c.notifySupervisandhOO}" disabled="{!v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c}"/>
                                                </div> >
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if--> 
                                <!-- <aura:if isTrue="{!v.RimOrSureLock == 'Rim'}"> -->
                                <!--  <aura:if isTrue="{!and(v.current_sequence eq 14,v.current_line.jobLineItem.Sequence__c eq 14)}">
                                <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                    <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                        <lightning:card  title="{!v.current_sequence+'. Select RIM Material Master'}"> 
                                            <div style="width:60%;margin:auto;margin-bottom:15px">
                                                <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                    <div class="slds-col slds-size_12-of-12" style="color:red">
                                                        <b>Error:&nbsp;</b>{!v.step_error}
                                                    </div>
                                                </aura:if>
                                                
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select RIM type</label>
                                                    <c:customLookup objectAPIName="ETT_Tools_Master__c" fieldAPIName="ETT_Unique_Code__c" IconName="standard:account"  selectedRecord="{!v.selectedLookUpRecord}"/>
                                                    <br/>
                                                </div>
                                                <Br/>
                                                <br/>
                                                <Br/>
                                                <Br/>
                                                <br/>
                                                <Br/>
                                                <br/>
                                                <Br/>
                                                <br/>
                                            </div>  
                                        </lightning:card>
                                    </aura:if>
                                </aura:if>
                            </aura:if> -->
                                
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 8,v.current_line.jobLineItem.Sequence__c eq 8)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Select the chamber'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select Chamber</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.chamberOneTwoValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div><br/>
                                                    
                                                    
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c == 'Chamber 1'}">
                                                        
                                                        <lightning:input type="checkbox" checked="{!v.ApplyOnCatrige}" label="Lift Tyre , apply on catridge" />
                                                        
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the Catridge Beam</label>
                                                        
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.beamValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                        <aura:set attribute="else">
                                                            <lightning:input type="checkbox" checked="{!v.ApplyOnMonorail}" label="Lift Tyre , apply on monorail"/>
                                                            
                                                            <lightning:input name="input1" label="Enter Details" />
                                                            
                                                        </aura:set>
                                                    </aura:if> 
                                                    
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 9,v.current_line.jobLineItem.Sequence__c eq 9)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Hang the tyre'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    
                                                    <aura:if isTrue="{!v.RimOrSureLock == 'Rim'}">
                                                        <lightning:input type="checkbox" checked="{!v.RubberWickingPad}" label="Connect Vaccum Valve and Pressure valve"/><br/>
                                                        
                                                        <!--    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Update the Pressure and vaccum valve numbers</label>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Pressure</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.pressureValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div>-->
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Vacuum Valve Number</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.Vacuum_Valve__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.vaccumeValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Pressure Valve numbers</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.Pressure_Valve__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.pressureValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Enter_Reason2__c	}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                        
                                                        <aura:set attribute="else">
                                                            <lightning:input type="checkbox" checked="{!v.RubberWickingPad}" label="Connect Vaccum Valve"/><br/>
                                                            
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Update the Vaccum valve numbers</label>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                        <aura:iteration items="{!v.vaccumeValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:set>
                                                    </aura:if>
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                            </aura:if>
                            
                            
                            <aura:if isTrue="{!v.isRimOrSureLock == 'Sure Lock'}"> <!---->
                           
                                <!--aura:if isTrue="{!and(v.current_sequence eq 6,v.current_line.jobLineItem.Sequence__c eq 6)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Check Inflation Pressure'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is inflation pressure ok?</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}">
                                                                <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div><br/>
                                                    
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c == 'No'}">
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the reason from the picklist</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}">
                                                                    <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Enter_Reason1__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c == 'Others'}">
                                                            <lightning:input label="Enter Other Reason" value="{!v.current_line.jobLineItem.ETT_Enter_Reason2__c}" required = "true"/>
                                                        </aura:if>
                                                        <div style="margin-top:10px">
                                                            <lightning:button variant="brand" label="Notify Supervisors and HOO" title="Notify Supervisors" onclick="{!c.notifySupervisandhOO}" disabled="{!v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c}"/>
                                                        </div>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Final Inflaction Condition</label>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="Inflaction" label="Final Inflaction Conditions" variant="label-hidden">
                                                                        <aura:iteration items="{!v.yesNoValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:if>
                                                        
                                                        <aura:if isTrue="{!v.RimOrSureLock == 'Rim'}">
                                                        </aura:if> 
                                                        <br/>
                                                        <p style="color:red">
                                                            <b>Note: </b>Please raise defect against "Repair" stage.
                                                        </p>
                                                        
                                                    </aura:if>
                                                    <aura:if isTrue="{!v.RimOrSureLock=='Rim'}">
                                                        <div class="slds-form-element tool_Secondsec">
                                                            <ul type="a">
                                                                <lightning:input type="checkbox" checked="{!v.ApplyDesiredRimPlate}" label="1. Apply desired rim and plate on the rimming machine."/>
                                                                <lightning:input type="checkbox" checked="{!v.ApplyCuringTubeFlap}" label="2. Apply curing tube/flap on enveloped tyre rim."/>
                                                                <lightning:input type="checkbox" checked="{!v.ApplyPlateLock}" label="3. Apply plate and lock the rim."/>
                                                                <lightning:input type="checkbox" checked="{!v.ApplyInflationPressure}" label="4. Apply inflation pressure at 2.5 bar to rimmed tyre."/>
                                                            </ul>
                                                        </div>
                                                    </aura:if>
                                                    
                                                    
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if--> 
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 6,v.current_line.jobLineItem.Sequence__c eq 6)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Apply vaccum Pressure at 2.5 on outer envelop of the Tyre.'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is Vaccum ok?</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden" disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}" >
                                                                <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div><br/>
                                                    
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c == 'No'}">
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the reason from the picklist</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}">
                                                                    <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Enter_Reason1__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c == 'Others'}">
                                                            <lightning:input label="Enter Other Reason" value="{!v.current_line.jobLineItem.ETT_Enter_Reason2__c}" required = "true"/>
                                                        </aura:if>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enter Final Status</label>  
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="FloorCheck" label="" variant="label-hidden" >
                                                                        <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:if>
                                                    </aura:if>
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No'}">
                                                        <div style="margin-top:10px">
                                                            <lightning:button variant="brand" label="Notify Supervisors and HOO" title="Notify Supervisors and HOO" onclick="{!c.notifySupervisandhOO}" disabled="{!v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c}"/>
                                                        </div>
                                                        <br/>
                                                        <p style="color:red">
                                                            <b>Note: </b>Please raise defect against "Repair" stage.
                                                        </p>
                                                    </aura:if>
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                                <aura:if isTrue="{!and(v.current_sequence eq 7,v.current_line.jobLineItem.Sequence__c eq 7)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Apply vaccum Pressure at 2.5 on outer envelop of the Tyre'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Pressure</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.pressureValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div>
                                                    <!--  <div style="margin-top:10px">
                                                    <lightning:button variant="brand" label="Notify Supervisors and HOO" title="Notify Supervisors" onclick="{!c.notifySupervisandhOO}" disabled="{!v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c}"/>
                                                </div> -->
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                                                              
                                <!--aura:if isTrue="{!and(v.current_sequence eq 8,v.current_line.jobLineItem.Sequence__c eq 8)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Select the chamber'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select Chamber</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.chamberOneTwoValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div><br/>
                                                    
                                                    
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c == 'Chamber 1'}">
                                                        
                                                        <lightning:input type="checkbox" checked="{!v.ApplyOnCatrige}" label="Lift Tyre , apply on catridge" />
                                                        
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the Catridge Beam</label>
                                                        
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.beamValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                        <aura:set attribute="else">
                                                            <lightning:input type="checkbox" checked="{!v.ApplyOnMonorail}" label="Lift Tyre , apply on monorail"/>
                                                            
                                                            <lightning:input name="input1" label="Enter Details" />
                                                            
                                                        </aura:set>
                                                    </aura:if> 
                                                    
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if--> 
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 8,v.current_line.jobLineItem.Sequence__c eq 8)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Hang the tyre'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    
                                                    <aura:if isTrue="{!v.RimOrSureLock == 'Rim'}">
                                                        <lightning:input type="checkbox" checked="{!v.RubberWickingPad}" label="Connect Vaccum Valve and Pressure valve"/><br/>
                                                        
                                                        <!--    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Update the Pressure and vaccum valve numbers</label>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Pressure</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.pressureValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div>-->
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Vacuum Valve Number</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.vaccumeValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Pressure Valve numbers</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Enter_Reason2__c	}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.pressureValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Enter_Reason2__c	}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                        
                                                        <aura:set attribute="else">
                                                            <lightning:input type="checkbox" checked="{!v.RubberWickingPad}" label="Connect Vaccum Valve"/><br/>
                                                            
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Update the Vaccum valve numbers</label>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                        <aura:iteration items="{!v.vaccumeValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:set>
                                                    </aura:if>
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                                
                                 
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 9,v.current_line.jobLineItem.Sequence__c eq 9)}">
                                        <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                            <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                                
                                                <lightning:card  title="{!v.current_sequence+'. Monitor Vacuum gage'}"> 
                                                    <div style="width:60%;margin:auto;margin-bottom:15px">
                                                        <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                            <div class="slds-col slds-size_12-of-12" style="color:red">
                                                                <b>Error:&nbsp;</b>{!v.step_error}
                                                            </div>
                                                        </aura:if>
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is Vacuum Ok?</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div><br/>
                                                        
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='Yes'}">
                                                            <lightning:input type="checkbox" checked="{!v.RubberWickingPad}" label="Selected Vacuum valve highlighted in the system"/><br/>
                                                            
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Update the Vaccum</label>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                        <aura:iteration items="{!v.vaccumeValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                            
                                                            <aura:set attribute="else">
                                                                
                                                                <div class="slds-form-element textboxdiv">
                                                                    <!-- <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enter the reason</label> 
                                                                    <lightning:input label="Enter the reason" variant="label-hidden" value="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c}" required = "true"/>
                                                                    <br/> -->
                                                                    <!--   <div class="slds-form-element textboxdiv">
                                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enter Final Status</label>  
                                                                        <div>
                                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Enter_Final_Status__c}" name="FloorCheck" label="" variant="label-hidden" >
                                                                                <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Enter_Final_Status__c}" />
                                                                                </aura:iteration>
                                                                            </lightning:select>
                                                                        </div>
                                                                    </div><br/> -->
                                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select Reason</label>  
                                                                    <div>
                                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                            <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                            </aura:iteration>
                                                                        </lightning:select>
                                                                    </div> 
                                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c == 'Others'}">
                                                                        <lightning:input label="Enter Other Reason" value="{!v.current_line.jobLineItem.ETT_LubeName__c}" />
                                                                    </aura:if>
                                                                </div> 
                                                                
                                                                
                                                            </aura:set>
                                                        </aura:if><br/>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Final Status</label>
                                                            
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  >
                                                                    <aura:iteration items="{!v.yesNoValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                            
                                                        </aura:if>
                                                    </div>  
                                                </lightning:card>
                                                
                                                
                                            </aura:if>
                                        </aura:if>
                                    </aura:if>    
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 10,v.current_line.jobLineItem.Sequence__c eq 10)}">
                                        <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                            <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                                <lightning:card  title="{!v.current_sequence+'. Monitor the Pressure and Vacuum gage'}"> 
                                                    <div style="width:60%;margin:auto;margin-bottom:15px">
                                                        <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                            <div class="slds-col slds-size_12-of-12" style="color:red">
                                                                <b>Error:&nbsp;</b>{!v.step_error}
                                                            </div>
                                                        </aura:if>
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is Pressure/Vacuum Ok?</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div><br/>
                                                        
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='No'}">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the reason from the picklist</label>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.Enter_Reason1__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                        <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.Enter_Reason1__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:if>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enter Final Status</label>  
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="FloorCheck" label="" variant="label-hidden" >
                                                                        <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:if>
                                                        
                                                        
                                                    </div>  
                                                </lightning:card>
                                            </aura:if>
                                        </aura:if>
                                    </aura:if>                             
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 11,v.current_line.jobLineItem.Sequence__c eq 11)}">
                                        <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                            <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                                <lightning:card  title="{!v.current_sequence+'.  Vaccum/Pressure Leak'}"> 
                                                    <div style="width:60%;margin:auto;margin-bottom:15px">
                                                        <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                            <div class="slds-col slds-size_12-of-12" style="color:red">
                                                                <b>Error:&nbsp;</b>{!v.step_error}
                                                            </div>
                                                        </aura:if>
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is Pressure/Vacuum Ok?</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}">
                                                                    <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div><br/>
                                                        
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='Yes'}">
                                                            
                                                            <lightning:input type="checkbox" checked="{!v.RubberWickingPad}" label="Selected Vacuum valve highlighted in the system"/><br/>
                                                            
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Update the Pressure/Vaccum</label>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                        <aura:iteration items="{!v.pressureValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                        <aura:iteration items="{!v.vaccumeValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:if>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='No'}">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enter pressure</label>
                                                                <lightning:input type="text" name="input1" value="{!v.current_line.jobLineItem.ETT_Pressure__c}" label="Enter a date" variant="label-hidden" disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}"/>
                                                                
                                                                <div class="slds-form-element textboxdiv">
                                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the reason from the picklist</label>
                                                                    <div>
                                                                        <lightning:select value="{!v.current_line.jobLineItem.ETT_Enter_Reason1__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!or(v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c ,v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}">
                                                                            <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                                <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Enter_Reason1__c}" />
                                                                            </aura:iteration>
                                                                        </lightning:select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div style="margin-top:10px">
                                                                <lightning:button variant="brand" label="Notify Supervisors and HOO" title="Notify Supervisors" onclick="{!c.notifySupervisandhOO}" disabled="{!v.current_line.jobLineItem.ETT_Notification_Sent_to_Supervisor__c}"/>
                                                            </div>
                                                            <p style="color:red">
                                                                Please request for new tool material.
                                                            </p>
                                                        </aura:if>                   
                                                    </div>  
                                                </lightning:card>
                                            </aura:if>
                                        </aura:if>
                                    </aura:if>
                                    <aura:if isTrue="{!and(v.current_sequence eq 12,v.current_line.jobLineItem.Sequence__c eq 12)}">
                                        <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                            <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                                <lightning:card  title="{!v.current_sequence+'. Is chamber is 1'}"> 
                                                    <div style="width:60%;margin:auto;margin-bottom:15px">
                                                        <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                            <div class="slds-col slds-size_12-of-12" style="color:red">
                                                                <b>Error:&nbsp;</b>{!v.step_error}
                                                            </div>
                                                        </aura:if>
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is total number of tyres loaded on catridge >= 15?</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!or(v.current_line.jobLineItem.ETT_Has_dependency__c , v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress')}">
                                                                    <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div><br/>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='Yes'}">
                                                            <div style="margin-top:10px">                                                                
                                                                <lightning:button variant="brand" label="Send Approval Request" title="Send Request" onclick="{!c.SendRequest}" disabled="{!or(or((v.current_line.jobLineItem.ETT_Has_dependency__c) , v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'), v.current_line.jobLineItem.ETT_Status__c eq 'OnHold')}"/>
                                                            </div>
                                                        </aura:if>
                                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                            
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Final Status</label>
                                                            
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  >
                                                                    <aura:iteration items="{!v.yesNoValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                            
                                                        </aura:if>
                                                        
                                                    </div>  
                                                </lightning:card>
                                            </aura:if>
                                        </aura:if>
                                    </aura:if>
                                    
                                   
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 13,v.current_line.jobLineItem.Sequence__c eq 13)}">
                                        <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                            <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                                <lightning:card  title="{!v.current_sequence+'. Next Stage &amp; Status Update'}"> 
                                                    <div style="width:60%;margin:auto;margin-bottom:15px">
                                                        <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                            <div class="slds-col slds-size_12-of-12" style="color:red">
                                                                <b>Error:&nbsp;</b>{!v.step_error}
                                                            </div>
                                                        </aura:if>
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Rimming &#38; Enveloping Status</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.relatedJobWrapper.validJobCardList[0].ETT_Rimming_Env_Status__c}" name="Status" label="Select Enveloping Status" variant="label-hidden">
                                                                    <aura:iteration items="{!v.statusValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.relatedJobWrapper.validJobCardList[0].ETT_Rimming_Env_Status__c}"/>
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>   
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Technician Remarks</label>
                                                            <div>
                                                                <lightning:textarea name="remarks" value="{!v.current_line.jobLineItem.ETT_Remarks__c}" label="" />
                                                            </div>
                                                        </div> 
                                                        <aura:if isTrue="{!v.current_line.relatedJobWrapper.validJobCardList[0].ETT_Rimming_Env_Status__c eq 'Accepted'}">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Next Station To Choose</label>
                                                                <div>
                                                                    <lightning:select value="{!v.selectedNextStation}" name="" label="" variant="label-hidden" disabled="{!v.current_line.relatedJobWrapper.validJobCardList[0].ETT_No_of_Rimming_Env_Revisions__c eq 1}">
                                                                        <aura:iteration items="{!v.availableStations}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.value}" selected="{!inv.value == v.selectedNextStation}" /> 
                                                                        </aura:iteration>	
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:if>                                 
                                                    </div>
                                                </lightning:card>
                                            </aura:if>
                                        </aura:if>
                                    </aura:if> 
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 14,v.current_line.jobLineItem.Sequence__c eq 14)}">
                                        <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                            <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                                <lightning:card  title="Notes:"> 
                                                    <div style="width:60%;margin:auto;margin-bottom:15px">
                                                        <div class="slds-col slds-size_12-of-12" style="color:green">
                                                            <b>No more steps pending for this job card under this stage. Please close the window.</b>
                                                        </div>
                                                    </div>
                                                </lightning:card>
                                            </aura:if>
                                        </aura:if>
                                    </aura:if>
                                    
                             
                            
                            </aura:if>
                            
                            
                            <aura:if isTrue="{!v.isRimOrSureLock == 'Rim'}">
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 10,v.current_line.jobLineItem.Sequence__c eq 10)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Monitor the Pressure and Vacuum gage'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is Pressure/Vacuum Ok?</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div><br/>
                                                    
                                                    
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='No'}">
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the reason from the picklist</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.Enter_Reason1__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                                
                                                            </div>
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enter other Type</label>
                                                                <div>
                                                                    <lightning:textarea name="remarks" value="{!v.current_line.jobLineItem.ETT_Remarks__c}" label="" />
                                                                </div>
                                                            </div> 
                                                            
                                                        </div>
                                                    </aura:if>
                                                    
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if>                             
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 11,v.current_line.jobLineItem.Sequence__c eq 11)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Pressure/Vacuum Ok'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is Pressure/Vacuum Ok?</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div><br/>
                                                    
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='Yes'}">
                                                        
                                                        <lightning:input type="checkbox" checked="{!v.RubberWickingPad}" label="Selected Vacuum valve highlighted in the system"/><br/>
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Update the Pressure/Vaccum</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.pressureValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.vaccumeValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                        
                                                        <aura:set attribute="else">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select the reason from the picklist</label>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.Enter_Reason1__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                        <aura:iteration items="{!v.reasonValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div>
                                                        </aura:set>
                                                    </aura:if> 
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enter Final Status</label>  
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Final_Activity_State__c}" name="FloorCheck" label="" variant="label-hidden" >
                                                                    <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Final_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                    </aura:if>
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 12,v.current_line.jobLineItem.Sequence__c eq 12)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Is chamber is 1'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is selected chamber is 1?</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div><br/>
                                                    
                                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='Yes'}">
                                                        
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is total number of tyres loaded on catridge >= 12?</label>
                                                            <div>
                                                                <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                    <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                    </aura:iteration>
                                                                </lightning:select>
                                                            </div>
                                                        </div><br/>
                                                        
                                                        <aura:set attribute="else">
                                                            <div class="slds-form-element textboxdiv">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Is total number of tyres loaded on catridge between 13 to 15?</label>
                                                                <div>
                                                                    <lightning:select value="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" name="FloorCheck" label="Initial Floor Conditions" variant="label-hidden"  disabled="{!v.current_line.jobLineItem.ETT_Status__c eq 'In-Progress'}">
                                                                        <aura:iteration items="{!v.noYesValues}" var="inv" indexVar="key">
                                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.jobLineItem.ETT_Initial_Activity_State__c}" />
                                                                        </aura:iteration>
                                                                    </lightning:select>
                                                                </div>
                                                            </div><br/>
                                                            
                                                        </aura:set>
                                                    </aura:if> 
                                                    
                                                </div>  
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 13,v.current_line.jobLineItem.Sequence__c eq 13)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="{!v.current_sequence+'. Next Stage &amp; Status Update'}"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                                            <b>Error:&nbsp;</b>{!v.step_error}
                                                        </div>
                                                    </aura:if>
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Enveloping Status</label>
                                                        <div>
                                                            <lightning:select value="{!v.current_line.relatedJobWrapper.validJobCardList[0].ETT_Rimming_Env_Status__c}" name="Status" label="Select Enveloping Status" variant="label-hidden">
                                                                <aura:iteration items="{!v.statusValues}" var="inv" indexVar="key">
                                                                    <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.current_line.relatedJobWrapper.validJobCardList[0].ETT_Rimming_Env_Status__c}"/>
                                                                </aura:iteration>
                                                            </lightning:select>
                                                        </div>
                                                    </div>   
                                                    <div class="slds-form-element textboxdiv">
                                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Technician Remarks</label>
                                                        <div>
                                                            <lightning:textarea name="remarks" value="{!v.current_line.jobLineItem.ETT_Remarks__c}" label="" />
                                                        </div>
                                                    </div> 
                                                    <aura:if isTrue="{!v.current_line.relatedJobWrapper.validJobCardList[0].ETT_Rimming_Env_Status__c eq 'Accepted'}">
                                                        <div class="slds-form-element textboxdiv">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Next Station To Choose</label>
                                                            <div>
                                                                <lightning:select value="{!v.selectedNextStation}" name="" label="" variant="label-hidden" disabled="{!v.current_line.relatedJobWrapper.validJobCardList[0].ETT_No_of_Rimming_Env_Revisions__c eq 1}">
                                                                    <aura:iteration items="{!v.availableStations}" var="inv" indexVar="key">
                                                                        <option text="{!inv.value}" value="{!inv.value}" selected="{!inv.value == v.selectedNextStation}" /> 
                                                                    </aura:iteration>	
                                                                </lightning:select>
                                                            </div>
                                                        </div>
                                                    </aura:if>                                 
                                                </div>
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if> 
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 14,v.current_line.jobLineItem.Sequence__c eq 14)}">
                                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                                        <aura:if isTrue="{!and(!v.displayDefectSectionCutOff,!v.openToolsReqSection)}">
                                            <lightning:card  title="Notes:"> 
                                                <div style="width:60%;margin:auto;margin-bottom:15px">
                                                    <a target="_blank" class="processlink" href="{!$Resource.ETT_Enveloping_Process_Tutorial}" title="Process Tutorial">Process Tutorial</a>
                                                    <div class="slds-col slds-size_12-of-12" style="color:green">
                                                        <b>No more steps pending for this job card under this stage. Please close the window.!</b>
                                                    </div>
                                                </div>
                                            </lightning:card>
                                        </aura:if>
                                    </aura:if>
                                </aura:if>
                                
                                
                              
                                
                            </aura:if>
                            
                            
                            
                            <!--on hold section-->
                            <aura:if isTrue="{!v.confirmHoldVar}">
                                <lightning:card  title="Confirm Hold Actvity"> 
                                    <div style="width:60%;margin:auto;margin-bottom:15px">
                                        <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                            <div class="slds-col slds-size_12-of-12" style="color:red">
                                                <b>Error:&nbsp;</b>{!v.step_error}
                                            </div>
                                        </aura:if>                                        
                                        <div class="slds-col slds-size_12-of-12">
                                            <aura:if isTrue="{!not(v.current_line.jobLineItem.Id eq null)}">
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-m-right_none">Reason for hold</label>
                                                    <lightning:select value="{!v.lineItemForHold.jobLineItem.ETT_Pause_Reason__c}" label="Reason for hold" title="Reason for hold" variant="label-hidden" class="holdReason">
                                                        <aura:iteration items="{!v.holdReasonValues}" var="inv" indexVar="key">
                                                            <option text="{!inv.value}" value="{!inv.key}" selected="{!inv.key == v.lineItemForHold.jobLineItem.ETT_Pause_Reason__c}"/>
                                                        </aura:iteration>
                                                    </lightning:select>&nbsp;
                                                </div> 
                                                <div class="slds-form-element textboxdiv">
                                                    <label class="slds-form-element__label slds-text-title_bold" for="select-01">Remarks</label>
                                                    <div>
                                                        <lightning:textarea name="remarks" value="{!v.lineItemForHold.jobLineItem.ETT_Remarks__c}" label="" />
                                                    </div>
                                                </div>                                                
                                                <aura:set attribute="else">
                                                    No activity has been started so far.
                                                </aura:set>
                                            </aura:if>
                                        </div>
                                    </div>
                                </lightning:card>
                            </aura:if>
                            
                            <!--usage tracker section-->
                            <aura:if isTrue="{!v.usageSection}">
                                <lightning:card  title="Tools/Material Usage Tracker"> 
                                    <div style="width:80%;margin:auto;margin-bottom:15px">
                                        <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                            <div class="slds-col slds-size_12-of-12" style="color:red">
                                                <b>Error:&nbsp;</b>{!v.step_error}
                                            </div>
                                        </aura:if>
                                        
                                        <div class="slds-form-element textboxdiv">
                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Update Tools/Material Usage</label>
                                            <br/><br/>
                                            <div class="slds-form-element tool_Secondsec">
                                                <ul type="a">
                                                    <aura:iteration items="{!v.toolUsageListOptions}" var="sf" indexVar="i">
                                                        <aura:if isTrue="{!sf.toolAllocationDet.ETT_Tools_Master__r.ETT_Usage_type__c eq 'Consumable'}">
                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">{!sf.toolAllocationDet.ETT_Tools_Master__r.Name}&nbsp; (Available Stocks : {!sf.toolAllocationDet.ETT_Available_Stocks__c}&nbsp;{!sf.toolAllocationDet.ETT_Tools_Master__r.Unit_Text__c})</label>
                                                            <lightning:input step="0.01" type="number" name="{!sf.toolAllocationDet.ETT_Tools_Master__r.Name}" value="{!sf.toolUsage.ETT_Usage_Value__c}" placeholder="{!sf.toolAllocationDet.ETT_Tools_Master__r.ETT_Unit_type__c}"/>
                                                            <br/>
                                                        </aura:if>                                                           
                                                    </aura:iteration>
                                                    <aura:iteration items="{!v.toolUsageListOptions}" var="sf" indexVar="i">
                                                        <aura:if isTrue="{!and(sf.toolAllocationDet.ETT_Tools_Master__r.ETT_Usage_type__c eq 'Depreciable',sf.toolAllocationDet.ETT_Tools_Master__r.ETT_Track_Depreciable_Item_Usage_at_JC__c eq 'Track')}">
                                                            <aura:if isTrue="{!sf.toolAllocationDet.ETT_Tools_Master__r.Depreciable_item_selection_behaviour__c eq 'Display selection'}">
                                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">{!sf.toolAllocationDet.ETT_Tools_Master__r.Name}</label>
                                                                <lightning:input type="checkbox" checked="{!sf.toolUsage.ETT_Whether_it_s_used_or_not__c}" title="Did you used this tool/material"/>
                                                                <br/>
                                                            </aura:if>
                                                        </aura:if>                                                             
                                                    </aura:iteration>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </lightning:card>
                            </aura:if>
                            
                            <!--new tool request section-->
                            <aura:if isTrue="{!v.openToolsReqSection}">
                                <div style="width:80%;margin:auto;margin-bottom:15px">
                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                            <b>Error:&nbsp;</b>{!v.step_error}
                                        </div>
                                    </aura:if>
                                    <div class="slds-form-element textboxdiv">
                                        <label class="slds-form-element__label slds-text-title_bold" for="select-01">Select Tool(s) &amp; Consumables for New Request</label>
                                        <br/>
                                        <div>
                                            <aura:iteration items="{!v.toolsListOptions}" var="sf" indexVar="i">
                                                <div class="slds-form-element tool_Secondsec">
                                                    <ul type="a">
                                                        <lightning:input type="checkbox" checked="{!sf.isSelected}" label="{!sf.label}" disabled="{!not(sf.toolAllocationDet.Allocation_Status__c eq 'Approved')}"/>
                                                        <aura:if isTrue="{!sf.isSelected}">                                                            
                                                            <div>
                                                                <div class="slds-grid slds-gutters slds-p-top_x-small">
                                                                    <div class="slds-col slds-size_1-of-2">
                                                                        <img src="{!sf.toolImageLink}" style="width:300px"/>                                                                        
                                                                    </div>
                                                                    <div class="slds-col slds-size_1-of-2">
                                                                        <div class="slds-form-element textboxdiv">
                                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Remarks Comment</label>
                                                                            <div>
                                                                                <lightning:textarea title="Remarks" value="{!sf.remarks}" label=""/>
                                                                            </div>
                                                                        </div>
                                                                        <div class="slds-form-element textboxdiv">
                                                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Requesting Stock Units [Type: {!sf.toolAllocationDet.ETT_Tools_Master__r.ETT_Unit_type__c}, Individual Unit Value: {!sf.toolAllocationDet.ETT_Tools_Master__r.ETT_Individual_Unit_Value__c}, Usage type: {!sf.toolAllocationDet.ETT_Tools_Master__r.ETT_Usage_type__c}]</label>
                                                                            <div>
                                                                                <lightning:input type="number" name="stock needed" value="{!sf.requestedStockUnits}" />
                                                                            </div>
                                                                        </div>
                                                                        <lightning:input height="200" 
                                                                                         width="350" 
                                                                                         label="File Upload"  
                                                                                         id="{!i}"
                                                                                         files="{!v.fileToBeUploaded}"
                                                                                         type="file"  
                                                                                         name="Used Tool Picture"  
                                                                                         multiple="false" 
                                                                                         required="false" 
                                                                                         onchange="{!c.handleFilesChange}"/>
                                                                        <aura:iteration items="{!sf.lstFileWrapperDetails}" var="f">
                                                                            {!f.strFileName}<br/>
                                                                        </aura:iteration>
                                                                    </div>
                                                                </div>                                                                
                                                            </div>
                                                            <br/>
                                                        </aura:if>
                                                    </ul>
                                                    <br/>
                                                </div>
                                            </aura:iteration>
                                        </div>
                                    </div>
                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Tool_Material_Request_Raised__c}">
                                        <br/><br/>
                                        <div class="slds-form-element textboxdiv">
                                            <label class="slds-form-element__label slds-text-title_bold" for="select-01">Request(s) Information &amp; Status</label>
                                            <div>
                                                <aura:iteration items="{!v.newToolRequests}" var="sf" indexVar="i">
                                                    <div class="slds-form-element tool_Secondsec">
                                                        <ul type="a">
                                                            #{!sf.toolMaster.Name} - ({!sf.toolAllocation.Allocation_Status__c})
                                                        </ul>
                                                    </div>
                                                </aura:iteration>
                                            </div>
                                        </div>
                                    </aura:if>
                                </div>
                            </aura:if> 
                            
                            <aura:if isTrue="{!v.displayDefectSectionCutOff}">
                                <lightning:card  title="Identify Defects &amp; Send Back"> 
                                    <aura:if isTrue="{!and(not(v.step_error eq null),not(v.step_error eq ''))}">
                                        <div class="slds-col slds-size_12-of-12" style="color:red">
                                            <b>Error:&nbsp;</b>{!v.step_error}
                                        </div>
                                    </aura:if>
                                    
                                    <div style="width:60%;margin:auto;margin-bottom:15px">
                                        <div class="slds-form-element textboxdiv">
                                            <div style="clear: both;">
                                                <div class="textboxdiv"> 
                                                    <lightning:dualListbox aura:id="selectDefects"
                                                                           name="defectList"
                                                                           label="Report Defect(s) identified"
                                                                           sourceLabel="Available Defect(s) "
                                                                           selectedLabel="Selected Defect(s)"
                                                                           options="{!v.availableDefects}"
                                                                           value="{!v.selectedDefects}"/>
                                                </div>
                                            </div>
                                            <div class="slds-form-element textboxdiv">
                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Technician Remarks</label>
                                                <div>
                                                    <lightning:textarea name="remarks" value="{!v.current_line.jobLineItem.ETT_Remarks__c}" label="" />
                                                </div>
                                            </div> 
                                            <div class="slds-form-element textboxdiv">
                                                <label class="slds-form-element__label slds-text-title_bold" for="select-01">Next Station To Choose</label>
                                                <div>
                                                    <lightning:select value="{!v.selectedNextStation}" name="" label="" variant="label-hidden">
                                                        <aura:iteration items="{!v.availableStations}" var="inv" indexVar="key">
                                                            <option text="{!inv.value}" value="{!inv.value}" selected="{!inv.value == v.selectedNextStation}" />
                                                        </aura:iteration>	
                                                    </lightning:select>
                                                </div>
                                            </div>
                                            <!--
                                            <div style="clear: both;">
                                                <div class="textboxdiv">
                                                    <lightning:dualListbox aura:id="selectNextStations"
                                                                           name="stationList"
                                                                           label="Next Available Station(s) To Choose"
                                                                           sourceLabel="Available Station(s) "
                                                                           selectedLabel="Selected Station(s)"
                                                                           options="{!v.availableStations}"
                                                                           value="{!v.selectedStations}"/>
                                                </div>
                                            </div>-->
                                        </div>
                                    </div>
                                </lightning:card>
                            </aura:if>
                            
                            
                            
                            <aura:set attribute="else">
                                <h2 style="text-align:center;font-weight: 600;font-size: 16px;color: #ce4242;">No Record Found! </h2> 
                            </aura:set> 
                            
                            
                            
                        </aura:if>
                    </div>
                </div>
                
                
                
                
                <!--Modal/Popup Box Footer Starts here-->
                <footer class="slds-modal__footer">                
                    
                    <aura:if isTrue="{!and(!v.confirmHoldVar,!v.usageSection)}">
                        <aura:if isTrue="{!and(!v.openToolsReqSection,!v.isOnHold)}">
                            <aura:if isTrue="{!!v.displayDefectSectionCutOff}">
                                <aura:if isTrue="{!and(not(v.current_sequence eq 16))}">
                                    <aura:if isTrue="{!and(not(v.current_sequence eq 14,v.RimOrSureLock == 'Rim'))}">
                                        <aura:if isTrue="{!not(v.current_sequence eq 1)}"><!--let us not show defect raise button at first step-->
                                            <lightning:button variant="brand" label="Raise Defect" title="Raise Defect" onclick="{!c.openDefectSection}"/>    
                                        </aura:if>
                                        <lightning:button variant="brand" label="Hold" title="Hold" onclick="{!c.showHoldDialog}"/>
                                        <aura:if isTrue="{!and(v.current_sequence >= 6,v.current_line.jobLineItem.Sequence__c >= 6)}">    
                                            <lightning:button variant="brand" label="Open Usage Tracker" title="Open Usage Tracker" onclick="{!c.openUsageTracker}"/>
                                        </aura:if>
                                        <lightning:button variant="brand" label="Request New Tool/Material" title="Request New Tool/Material" onclick="{!c.openToolsReqSectionOperation}"/>
                                    </aura:if>
                                </aura:if>
                            </aura:if>
                        </aura:if>
                    </aura:if>                
                    
                    
                    
                    
                    <aura:if isTrue="{!v.displayDefectSectionCutOff}">
                        <lightning:button variant="brand" label="Report Defect(s) &amp; Quit" title="Report Defect(s) &amp; Quit" onclick="{!c.reportDefectsAndEnd}"/>
                        <lightning:button variant="brand" label="Back" title="Back" onclick="{!c.backFromDefects}"/>
                    </aura:if>
                    
                    
                    <aura:if isTrue="{!v.isOnHold}">
                        <lightning:button variant="brand" label="Resume" title="Resume" onclick="{!c.resumeActivity}"/>
                    </aura:if>
                    
                    <aura:if isTrue="{!v.confirmHoldVar}">
                        <aura:if isTrue="{!not(v.current_line.jobLineItem.Id eq null)}">
                            <lightning:button variant="brand" label="Hold" title="Hold" onclick="{!c.confirmOnHold}"/>
                        </aura:if>
                        <lightning:button variant="brand" label="Back" title="Back" onclick="{!c.continueActivities}"/>
                    </aura:if>
                    
                    
                    <aura:if isTrue="{!v.usageSection}">
                        <lightning:button variant="brand" label="Save Usage" title="Save Usage" onclick="{!c.saveUsage}"/>
                        <lightning:button variant="brand" label="Back" title="Back" onclick="{!c.backFromUsage}"/>
                    </aura:if>
                    
                    <aura:if isTrue="{!or(v.current_line.jobLineItem.ETT_Tool_Material_Request_Raised__c eq true,!empty(v.newToolRequests))}">
                        <lightning:button variant="brand" label="Refresh Request Status(s)" title="Refresh" onclick="{!c.refreshSection}"/>
                    </aura:if>
                    
                    <aura:if isTrue="{!v.openToolsReqSection}">
                        <lightning:button variant="brand" label="Create Request(s)" title="Create Request(s)" onclick="{!c.createToolRequest}"  name="toolReq"/>
                        <lightning:button variant="brand" label="Back" title="Back" onclick="{!c.backFromToolReqPage}"/> 
                    </aura:if>
                    
                    
                    <aura:if isTrue="{!and(!v.isOnHold,!v.confirmHoldVar)}">
                        <aura:if isTrue="{!and(!v.usageSection,!v.openToolsReqSection)}">
                            
                            <aura:if isTrue="{!!v.displayDefectSectionCutOff}">
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 1,v.current_line.jobLineItem.Sequence__c eq 1)}">
                                    <lightning:button variant="brand" label="Proceed" title="Proceed" onclick="{!c.goToStep2}"/>
                                </aura:if>
                                
                                
                                <!--aura:if isTrue="{!and(v.current_sequence eq 2,v.current_line.jobLineItem.Sequence__c eq 2)}">  
                                    <aura:if isTrue="{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                        <lightning:button variant="brand" label="Start Floor Cleaning" title="Start Floor Cleaning" onclick="{!c.startFloorCleaning}"/>
                                    </aura:if>
                                    <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}">
                                        <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep3}"/>
                                    </aura:if>
                                </aura:if-->
                                
                                
                                <!--aura:if isTrue="{!and(v.current_sequence eq 3,v.current_line.jobLineItem.Sequence__c eq 3)}">             	
                                    <aura:if isTrue="{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                        <lightning:button variant="brand" label="Start Light Adjustment" title="Start Light Adjustment" onclick="{!c.startLightWorks}"/>
                                    </aura:if>
                                    <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}">
                                        <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep4}"/>
                                    </aura:if>
                                </aura:if-->
                                
                                
                                <!--aura:if isTrue="{!and(v.current_sequence eq 4,v.current_line.jobLineItem.Sequence__c eq 4)}">         	
                                    <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep5}"/>
                                </aura:if-->
                                
                                
                                <!--aura:if isTrue="{!and(v.current_sequence eq 5,v.current_line.jobLineItem.Sequence__c eq 5)}">
                                    <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep6}"/>
                                </aura:if-->
                                
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 2,v.current_line.jobLineItem.Sequence__c eq 2)}"> 
                                    <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='Yes'}">
                                        <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep7}"/>
                                    </aura:if>
                                </aura:if>
                                
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 3,v.current_line.jobLineItem.Sequence__c eq 3)}">             	
                                    <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}">
                                        <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep8}"/>
                                    </aura:if>
                                </aura:if>
                                
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 4,v.current_line.jobLineItem.Sequence__c eq 4)}">             	
                                    <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep9}"/>
                                </aura:if>
                                
                                
                                <!-- <aura:if isTrue="{!and(v.current_sequence eq 9 ,v.current_line.jobLineItem.Sequence__c eq 9)}">             	
                                    <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}">
                                        <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep10}"/>
                                    </aura:if>
                                </aura:if> -->
                                
                                <aura:if isTrue="{!and(v.current_sequence eq 5,v.current_line.jobLineItem.Sequence__c eq 5)}">
                                    <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Yes'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Yes'))}">
                                        <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep10}"/>
                                        
                                    </aura:if>
                                    <aura:if isTrue="{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                            <lightning:button variant="brand" label="Start Job" title="Start Job" onclick="{!c.startJobEnvAppTyre}"/>

                                    </aura:if>
                                     <!--aura:if isTrue="{!(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'No')}">
                                            <lightning:button variant="brand" label="Start Job" title="Start Job" onclick="{!c.startJobEnvAppTyre}"/>

                                    </aura:if-->
                                </aura:if>
                                
                                
                                <!-- <aura:if isTrue="{!and(v.current_sequence eq 10,v.current_line.jobLineItem.Sequence__c eq 10)}">             	
                                    <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}">
                                        <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep11}"/>
                                    </aura:if>
                                </aura:if> -->
                                <aura:if isTrue="{!v.isRimOrSureLock == 'Rim'}">
                                    <aura:if isTrue="{!and(v.current_sequence eq 6,v.current_line.jobLineItem.Sequence__c eq 6)}">             	
                                        <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'),not(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Good'))}">
                                            <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Yes'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Yes'))}">
                                                <lightning:button variant="brand" label="Next" title="Next_stp11" onclick="{!c.goToStep11}"/>
                                            </aura:if>
                                        </aura:if>
                                        <aura:if isTrue="{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                            <lightning:button variant="brand" label="Start Inflaction" title="Start Inflaction" onclick="{!c.startFloorCleaning}"/>
                                        </aura:if>
                                    </aura:if>
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 7,v.current_line.jobLineItem.Sequence__c eq 7)}"> 
                                        <aura:if isTrue="{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                            <lightning:button variant="brand" label="Start Process" title="Start Floor Cleaning" onclick="{!c.startFloorCleaning}"/>
                                        </aura:if>
                                        <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Yes'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Yes'))}">
                                            <!--   <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}"> -->
                                            <!-- <aura:if isTrue="{!not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No')}"> -->
                                            <lightning:button variant="brand" label="Next" title="Next_stp12" onclick="{!c.goToStep12}"/>
                                            
                                        </aura:if>
                                    </aura:if>                                
                                    <!--aura:if isTrue="{!and(v.current_sequence eq 8,v.current_line.jobLineItem.Sequence__c eq 8)}">             	
                                        <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}">
                                            <lightning:button variant="brand" label="Next" title="Next_stp13" onclick="{!c.goToStep13}"/>
                                        </aura:if>
                                    </aura:if--> 
                                    
                                                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 8,v.current_line.jobLineItem.Sequence__c eq 8)}">             	
                                        <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}">
                                            
                                            <lightning:button variant="brand" label="Next" title="Next_stp14" onclick="{!c.goToStep14}"/>
                                        </aura:if>
                                        
                                    </aura:if>                                
                                    
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 9,v.current_line.jobLineItem.Sequence__c eq 9)}">
                                        <aura:if isTrue="true"><!-- {!v.RubberWickingPad} -->
                                            <lightning:button variant="brand" label="Next" title="Next_stp15" onclick="{!c.goToStep15}"/>
                                        </aura:if>
                                    </aura:if>
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 10,v.current_line.jobLineItem.Sequence__c eq 10)}">
                                        <aura:if isTrue="{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                            <lightning:button variant="brand" label="Start Process" title="Start Floor Cleaning" onclick="{!c.startFloorCleaning}"/>
                                        </aura:if>
                                        <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Yes'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Yes'))}">
                                            
                                            <!-- <aura:if isTrue="{!not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No')}"> -->
                                            <lightning:button variant="brand" label="Next" title="Next_stp16" onclick="{!c.goToStep16}"/>
                                        </aura:if> 
                                    </aura:if>
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 11,v.current_line.jobLineItem.Sequence__c eq 11)}">
                                        <!-- <aura:if isTrue="{!or(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                        <lightning:button variant="brand" label="Start Process" title="Start Floor Cleaning" onclick="{!c.startFloorCleaning}"/>
                                    </aura:if>
                                    <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Yes'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Yes'))}">
                                 -->
                                        <lightning:button variant="brand" label="Next" title="Next_stp17" onclick="{!c.goToStep17}"/>
                                    </aura:if>                                                              
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 12,v.current_line.jobLineItem.Sequence__c eq 12)}">
                                        
                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='Yes'}">
                                            <lightning:button variant="brand" label="Next" title="Next_stp18" onclick="{!c.goToStep18}"/>
                                        </aura:if>      
                                    </aura:if>                                                         
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 13,v.current_line.jobLineItem.Sequence__c eq 13)}">
                                        <aura:if isTrue="true"><!--{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'OnHold')}"-->
                                            <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep19}"/>
                                        </aura:if>
                                        
                                        
                                        <aura:if isTrue="{!and(v.current_sequence eq 14,v.current_line.jobLineItem.Sequence__c eq 14)}">             	
                                            <lightning:button variant="brand" label="Complete" title="Complete" onclick="{!c.goToStep21}"/>
                                        </aura:if>
                                        
                                    </aura:if>
                                    
                                    
                                   
                                </aura:if>
                                <aura:if isTrue="{!v.isRimOrSureLock == 'Sure Lock'}">
                                     <!--aura:if isTrue="{!and(v.current_sequence eq 6,v.current_line.jobLineItem.Sequence__c eq 6)}">             	
                                        <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'),not(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Good'))}">
                                            <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Yes'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Yes'))}">
                                                <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep11}"/>
                                            </aura:if>
                                        </aura:if>
                                        <aura:if isTrue="{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                            <lightning:button variant="brand" label="Start Inflaction" title="Start Inflaction" onclick="{!c.startFloorCleaning}"/>
                                        </aura:if>
                                    </aura:if-->
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 6,v.current_line.jobLineItem.Sequence__c eq 6)}"> 
                                        <aura:if isTrue="{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                            <lightning:button variant="brand" label="Start Process" title="Start Floor Cleaning" onclick="{!c.startFloorCleaning}"/>
                                        </aura:if>
                                        <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Yes'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Yes'))}">
                                            <!--   <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}"> -->
                                            <!-- <aura:if isTrue="{!not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No')}"> -->
                                            <lightning:button variant="brand" label="Next" title="Next_stp12" onclick="{!c.goToStep12}"/>
                                            
                                        </aura:if>
                                    </aura:if>                                
                                    <aura:if isTrue="{!and(v.current_sequence eq 7,v.current_line.jobLineItem.Sequence__c eq 7)}">             	
                                        <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}">
                                            <lightning:button variant="brand" label="Next" title="Next_stp13" onclick="{!c.goToStep13}"/>
                                        </aura:if>
                                    </aura:if> 
                                    
                                                                    
                                    <!--aura:if isTrue="{!and(v.current_sequence eq 8,v.current_line.jobLineItem.Sequence__c eq 8)}">             	
                                        <aura:if isTrue="{!or(not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Not Good'),not(v.current_line.jobLineItem.ETT_Status__c eq 'Not Started'))}">
                                            
                                            <lightning:button variant="brand" label="Next" title="Next_stp14" onclick="{!c.goToStep14}"/>
                                        </aura:if>
                                        
                                    </aura:if-->                                
                                    
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 8,v.current_line.jobLineItem.Sequence__c eq 8)}">
                                        <aura:if isTrue="{!v.RubberWickingPad}">
                                            <lightning:button variant="brand" label="Next" title="Next_stp15" onclick="{!c.goToStep15}"/>
                                        </aura:if>
                                    </aura:if>
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 9,v.current_line.jobLineItem.Sequence__c eq 9)}">
                                        <aura:if isTrue="{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                            <lightning:button variant="brand" label="Start Process" title="Start Floor Cleaning" onclick="{!c.startFloorCleaning}"/>
                                        </aura:if>
                                        <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Yes'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Yes'))}">
                                            
                                            <!-- <aura:if isTrue="{!not(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No')}"> -->
                                            <lightning:button variant="brand" label="Next" title="Next_stp16" onclick="{!c.goToStep16}"/>
                                        </aura:if> 
                                    </aura:if>
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 10,v.current_line.jobLineItem.Sequence__c eq 10)}">
                                        <!-- <aura:if isTrue="{!or(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'Not Started')}">
                                        <lightning:button variant="brand" label="Start Process" title="Start Floor Cleaning" onclick="{!c.startFloorCleaning}"/>
                                    </aura:if>
                                    <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'Yes'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'Yes'))}">
                                 -->
                                        <lightning:button variant="brand" label="Next" title="Next_stp17" onclick="{!c.goToStep17}"/>
                                    </aura:if>                                                              
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 11,v.current_line.jobLineItem.Sequence__c eq 11)}">
                                        <aura:if isTrue="{!v.current_line.jobLineItem.ETT_Initial_Activity_State__c=='Yes'}">
                                            <lightning:button variant="brand" label="Next" title="Next_stp18" onclick="{!c.goToStep18}"/>
                                        </aura:if>       </aura:if>                                                         
                                    
                                    <aura:if isTrue="{!and(v.current_sequence eq 12,v.current_line.jobLineItem.Sequence__c eq 12)}">
                                        <aura:if isTrue="true"> <!--{!and(v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No',v.current_line.jobLineItem.ETT_Status__c eq 'OnHold')}"-->
                                            <lightning:button variant="brand" label="Next" title="Next" onclick="{!c.goToStep19}"/>
                                        </aura:if>
                                                                       
                                    </aura:if>
                                    <aura:if isTrue="{!and(v.current_sequence eq 13,v.current_line.jobLineItem.Sequence__c eq 13)}">             	
                                        <lightning:button variant="brand" label="Complete" title="Complete" onclick="{!c.goToStep21}"/>
                                    </aura:if>

                                    
                                </aura:if>
                                
                                <aura:if isTrue="{!v.isRimOrSureLock == 'Rim'}">
                                    <!--lightning:button variant="brand" label="Complete" title="Complete" onclick="{!c.goToStep19}"/-->
                                    <!--aura:set attribute="else">
                                        <aura:if isTrue="{!or((v.current_line.jobLineItem.ETT_Initial_Activity_State__c eq 'No'),(v.current_line.jobLineItem.ETT_Final_Activity_State__c eq 'No'))}">
                                            <lightning:button variant="brand" label="Next" title="Next_stp1" onclick="{!c.goToStep19}"/>
                                        </aura:if>   
                                    </aura:set-->
                                </aura:if>
                                
                                
                                
                            </aura:if>
                        </aura:if>
                    </aura:if>
                    
                </footer>
                
                
                
                
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </aura:if>
</aura:component>